
Feature: tampermonkey scripts

你是一名 tampermonkey 脚本专家。

按如下要求实现 tampermonkey 脚本：
1. 将此项目核心逻辑（点击按钮后，发送 API 获取解析后的 URL 然后复制到剪贴板）转写为 tampermonkey 脚本。
2. 不需要复刻此项目画面上所有功能，只需要使用 tampermonkey 脚本在 bilibili 的视频播放页（满足 bilibili.com/video/BV 的页面）上添加一个美观的按钮（注意科技感，大小不要太大干扰到用户正常浏览，可以适当使用动画效果），点击后获取必要的信息然后将解析后的 URL 复制到剪贴板即可。
3. 发送 API 时，时刻注意可能触发风控，浏览器可能无法伪造 refer 等请求头，你需要尽可能的全面模拟成一个正常的请求并发送（如获取 URL 解析结果的 API，在当前页面发送，所以 refer 为 bilibili.com 这是没问题的，但你必须要警惕可能触发风控的风险，让你的请求 100% 和真实发送的无异）。
4. 在发送 API 时，实现自动获取 cookie（SESSDATA）的逻辑，但不要默认不要启用，也不要在画面上显示启用 cookie 的按钮，把这段添加 cookie 的逻辑在 tampermonkey 脚本里用一个变量 flag 控制，默认为 false ，除非用户手动把它改为 true ，这段逻辑不应该被触发，这可能导致被 trace 产生巨大风险。
5. 遵守 tampermonkey 的最佳实践，tampermonkey 脚本可能需要一些 GM 权限才能运行并获取必要的信息，注意不要丢失权限，必要时，你需要先去网上调研 tampermonkey 的脚本写法和相关信息。
6. 如果脚本逻辑在执行中， API 报错没有按预期获取到 URL 解析结果，你要弹窗提示获取失败（不要用 window.alert 这种丑陋的 UI ，你要为此创建一个友好的 UI ，交互不要复杂），当解析成功时，简单提示解析成功已复制到剪贴板即可。
7. 在制作 UI 时，尽量不要依赖各种第三方库，或者依赖最小限度的第三方库（不要影响到画面全局样式，使用 jsdelivr cdn ，因为用户很可能网络环境受限无法加载 cdn 资源），保持 tampermonkey 脚本不要因为 UI 的创建逻辑太多变得非常冗长。

-----------

按如下要求继续改进：
1. 思考能不能让用户点击安装按钮后自动安装到 tampermonkey 里。如果可行，则从 github 仓库的 tampermonkey 脚本存放位置的 url 安装，将 readme 改为手动安装和自动安装两部分，推荐自动安装，只有用户网络不好自动安装失败时才使用手动 copy 安装。
2. 将此 tampermonkey 脚本的 readme 改为英文，用语简洁明了，最后特别注明此脚本用于研究和学习目的，避免侵权和纠纷。
3. 将此脚本的名字改为 Kipdayo 
4. 优化画面上的按钮 UI ，此按钮可能挡住后面的文字给用户带来影响，添加一个 hover 后显示隐藏 icon 的功能，用户点击隐藏后此解析功能会自动隐藏到画面边缘，用户可以再次点击边缘将此功能重新显示到画面上（此隐藏是持久化的），隐藏和恢复展示的过程可适当使用动画，操作丝滑，保持科技感，注意不要让 UI 代码太过于冗长。

-----------

按如下要求继续改进：
1. 目前的隐藏icon在解析按钮隐藏状态也会hover显示，状态有问题，解决这个问题。
2. 按钮隐藏后，文本被阶段，显示一个【K】，体验不好，改为隐藏时只显示小 icon 即可。
3. 减轻目前的按钮 shadow 范围，浅蓝色的范围有点大，按钮隐藏后，也会占据很大的浅蓝色 shadow ，隐藏状态让这个 shadow 更小不要影响用户。
4. 给项目根目录的 readme 里添加一段英文的描述，用于简单说明：如果你不想安装本地 APP ，此项目还提供了浏览器 tampermonkey 插件版本，并附带一个跳转到 ./tampermonkey 目录的链接查看详细信息，但 tampermonkey 脚本只具有最简的解析功能，未来可能不会添加更多功能，维护不及时存在过时情况，一切以 app 版本为准。

-----------

按如下要求继续改进：
1. 点击隐藏后，按钮彻底不见了，解决这个问题，为了防止还有其他隐藏的问题，重新完整思考这部分的逻辑，确保隐藏和显示功能完全可用且没有 bug。
2. 你必须要确保此功能运行正常，否则你会被解雇。

-----------

按如下要求继续改进：
1. 点击隐藏后，要丝滑的隐藏到画面边缘，且显示一个小 icon ，不要影响用户的浏览，用户点击此 icon 后在此恢复按钮展示，注意隐藏的位置要和显示的解析按钮对齐，整个过度丝滑且保持科技感，并且有适当的动画，不要突兀。

